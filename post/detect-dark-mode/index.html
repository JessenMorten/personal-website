<!DOCTYPE html><html lang="en"><head><!-- General--><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- SEO--><title>Detect dark mode with JavaScript | mortenjessen.dk</title><meta name="description" content="Give your users a better experience by detecting if they prefer a dark or light color theme."><!-- Twitter SEO--><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Detect dark mode with JavaScript"><meta name="twitter:description" content="Give your users a better experience by detecting if they prefer a dark or light color theme."><meta name="twitter:site" content="@mortenjessen5d"><meta name="twitter:image" content="https://mortenjessen.dk/images/github-dark.jpg"><!-- Stylesheets--><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/github.min.css"><link rel="stylesheet" href="https://mortenjessen.dk/style.css"><!-- Scripts--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script><script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous" async></script></head><body><header class="fixed-top" id="tosp"><nav class="navbar navbar-light bg-white shadow"><div class="container"><a class="navbar-brand text-primary" href="https://mortenjessen.dk">mortenjessen.dk</a><a class="text-decoration-none" href="https://mortenjessen.dk/search/">Search</a></div></nav></header><main class="container my-5" id="top"><div class="py-3"><div class="row"><div class="mt-3 col-12 col-md-8 col-lg-9"><div class="bg-white shadow rounded"><img class="large-thumbnail" src="https://mortenjessen.dk/images/github-dark.jpg" alt="thumbnail"><div class="p-3"><h3>Detect dark mode with JavaScript</h3><h6 class="mb-2 text-muted">JavaScript</h6><p class="mb-2 text-muted">March 8, 2022</p><i><h6>Give your users a better experience by detecting if they prefer a dark or light color theme.</h6></i><hr><p>Detecting if dark mode is preferred and using that information to change the theme of your website is
an easy way to score some UX points on your website. Check out how easy it was for me to detect that you prefer
<b><span class="text-primary" id="preferred-theme"></span></b>
mode.</p><script>const preferredThemeElement = document.getElementById("preferred-theme");
const prefersDarkTheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
preferredThemeElement.textContent = prefersDarkTheme ? "dark" : "light";</script><pre class="rounded shadow border"><span class="float-left badge bg-secondary">JavaScript</span><code class="language-javascript">if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
  console.log("Enable dark theme");
} else {
  console.log("Enable light theme");
}</code></pre><p>That was easy, right? If you want to take it a notch further you can also add an event listener to
get notified when the preferred theme changes.</p><pre class="rounded shadow border"><span class="float-left badge bg-secondary">JavaScript</span><code class="language-javascript">window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", event => {
  if (event.matches) {
    console.log("Dark theme was enabled");
  } else {
    console.log("Light theme was enabled");
  }
});</code></pre></div></div></div><div class="mt-3 col-12 col-md-4 col-lg-3"><div class="bg-white shadow rounded p-3"><h5 class="mb-3">Latest posts</h5><a href="https://mortenjessen.dk/post/using-channels-as-semaphores/"><p class="m-0 mt-2 py-2 border-top">How to mimic the behavior of a semaphore using channels</p></a><a href="https://mortenjessen.dk/post/detect-dark-mode/"><p class="m-0 mt-2 py-2 border-top">Detect dark mode with JavaScript</p></a><a href="https://mortenjessen.dk/post/throttle-function-javascript/"><p class="m-0 mt-2 py-2 border-top">Throttle function calls in JavaScript</p></a><a href="https://mortenjessen.dk/post/debounce-function-javascript/"><p class="m-0 mt-2 py-2 border-top">Improve performance with the debounce function</p></a><a href="https://mortenjessen.dk/post/twitter-seo/"><p class="m-0 mt-2 py-2 border-top">Drive traffic to your website using these meta tags in your HTML</p></a><a href="https://mortenjessen.dk/post/memoize-function-javascript/"><p class="m-0 mt-2 py-2 border-top">Speed up your JavaScript functions with memoization!</p></a><a href="https://mortenjessen.dk/post/pure-function-javascript/"><p class="m-0 mt-2 py-2 border-top">What is a pure function?</p></a><a href="https://mortenjessen.dk/post/higher-order-functions-javascript/"><p class="m-0 mt-2 py-2 border-top">Higher-order functions in JavaScript</p></a></div></div></div></div></main><a class="btn btn-primary rounded position-fixed bottom-0 end-0 m-3" href="#top">To the top</a><script>const BASE_URL = "https://mortenjessen.dk";</script><script src="https://mortenjessen.dk/scripts/main.js"></script></body></html>